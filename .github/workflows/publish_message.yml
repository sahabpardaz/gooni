name: Send Telegram Message

on:
  release:
    types: [created]

jobs:
  send-telegram-message:
    runs-on: ubuntu-latest
    steps:
      - name: get-current-Date
        id: current-date
        run: echo ::set-output name=now::$(TZ='Iran' date +"%A %Y/%m/%d - %H:%M")
      - name: send-message
        uses: appleboy/telegram-action@master
        with:
          to: ${{ secrets.TELEGRAM_TO }}
          token: ${{ secrets.TELEGRAM_TOKEN }}
          format: html
          disable_web_page_preview: true
          message: |
            ğŸ‘ŠğŸŒŸ <b>Gooni New Version Released</b> ğŸŒŸğŸ‘Š

            ğŸ“Œ <b>Release Tag</b>: ${{ github.event.release.tag_name }}
            ğŸ“† <b>Release Date</b>: ${{ steps.current-date.outputs.now }}
            ğŸ§” Release Creator: <a href="${{ github.event.release.author.html_url }}">${{ github.actor }}</a>

            ğŸ”´ <b>Release Title</b>: ${{ github.event.release.name }}

            ğŸ“ Visit <a href="${{ github.event.release.html_url }}">The Release</a> for more details.

            ğŸ“ Also Visit <a href="${{ github.event.repository.html_url }}">The Repository</a>!
